<!DOCTYPE html>
<html lang="en">

<head>
    <title>Szubienica</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Szubienica!</h1>
    <script>
        function disp(text) {
            console.log(text)
        }



        // zmienne globalne "var"
        var arrayOfLetters = []
        var shot

        var life = prompt("podaj ilość żyć")
        if (life === null) {
            life = 3
            alert("wartość żyć została domyślnie ustawiona na 3!")
        }
        var steps = 0



        // Utwórz tablicę ze słowami
        var words = [
            "javascript",
            "monter",
            "niesamowity",
            "piłka",
            "zakola",
            "kapsel",
            "geniusz",
            "monitor"
        ]
        //Wybierz słowo losowe
        var randomWord = words[Math.floor(Math.random() * words.length)]

        //Skonfiguruj tablicę z odpowiedziami
        var answers = []
        for (var i = 0; i < randomWord.length; i++) {
            answers[i] = "_"
        }
        var leftLetters = randomWord.length;


        //Główna pętla gry 
        while (leftLetters > 0) {
            //Pokaż graczowi bieżący wynik
            alert(answers.join(" "))

            //Wczytaj strzał gracza
            shot = prompt("podaj literę")
            steps = steps + 1
            if (shot === null) {
                //Wyjdź z głównej pętli gry
                break
            } else if (shot.length !== 1) {
                alert("proszę podaj tylko jedną literę")
            } else {
                //zaktualizuj stan gry na podstawie strzału
                leftLettersTemp = leftLetters
                for (var i = 0; i < randomWord.length; i++) {
                    if (randomWord[i] === shot) {
                        answers[i] = shot
                        leftLetters = leftLetters - 1
                        alert("Poprawna odpowiedz")
                    }

                }

                if (leftLettersTemp == leftLetters) {
                    life = life - 1
                    alert("Niepoprawna odpowiedz")
                }
            }

            var didHeFindLetter = false
            for (i = 0; i < arrayOfLetters.length; i++) {
                if (arrayOfLetters[i] === shot) {
                    didHeFindLetter = true
                }
            }
            if (didHeFindLetter === true) {
                alert("Literka juz zostala uzyta, uzyte dotychczas literki to: " + arrayOfLetters.join(" "))
            } else {
                arrayOfLetters.push(shot)
            }

            if (life === 0) {
                alert("Skończyły ci się życia! Dziekuje za gre.")
                alert("szukane słowo to " + randomWord)
                break
            }
            if (leftLetters === 0) {
                alert("Dobra robota Dziekuje za gre.")
                alert("szukane słowo to " + randomWord)
                alert("odgadles haslo w tylu krokach: " + steps)
            }












            // alert("twoje literki")
            // for (i = 0; i < tablicaLiter.length; i++) {
            //     alert(tablicaLiter[i])
            // }
        }


        //kiedy gracz poda nieistniejaca literke wystaw komunikat o braku takiej literki


        //2. zapamietuj dotychczasowe wybrane litery jezeli gracz drugi raz wybierze taka sama litere wystaw komunikat ze wystawil ponownie taka sama litere



        //Koniec głównej pętli gry



        //pokaż odpowiedzi i pogratuluj


    </script>
</body>

</html>